!function(t,e,n,o){function r(e,n){var o=arguments.length,r=arguments[1];return 1===o&&(r="object"===t.type(arguments[0])?arguments[0]:{}),this.each(function(){var n=t(this),o=n.data("WEB.contextMenu"),c=t.extend({},i.DEFAULTS,n.data(),r);o||n.data("WEB.contextMenu",o=new i(this,c)),"string"===t.type(e)?o[e]?o[e](c):t.error("不支持的方法！"):o.init(c)})}t.extend({isBrowerSupportWebPlugin:function(){var e=!1,n="Microsoft Internet Explorer"==navigator.appName&&navigator.appVersion.split(";")[1].replace(/[ ]/g,""),o=["MSIE8.0","MSIE7.0","MSIE6.0","MSIE5.0"];return t.each(o,function(t,o){return n==o?(alert("您的浏览器版本过低，本插件无法提供支持，请升级！"),e=!1,!1):void(e=!0)}),e}});var i=function(e,n){this.$element=t(e),this.options=n};i.VERSION="1.0.0",i.DEFAULTS={disY:10,menu:[{text:"删除",method:function(){}},{text:"新增",method:function(){}},{text:"复制",method:function(){}}]},i.prototype={init:function(e){var o=this;this.$element.off("contextmenu").on("contextmenu",function(n){if(n.preventDefault(),"array"!==t.type(e.menu)||t.isEmptyObject(e.menu))return void t.error("参数格式错误,menu的类型必须是数组，请检查！");var r=t("#WEB_contextMenu");r.remove(),r=t('<ul id="WEB_contextMenu" class="WEB_contextMenu"></ul>');var i=e.menu;t.each(i,function(n,i){var c=t('<li class="WEB_contextMenu_item">'+(i.text||"请配置节点名称")+"</li>");c.off("click").on("click",function(n){i.method(o,e);var r=t.Event("WEB.contextMenu.destroy");o.$element.trigger(r)}),r.append(c)}),r.appendTo(t("body")).css({left:n.clientX,top:n.clientY+e.disY});var n=t.Event("WEB.contextMenu.create",{relatedTarget:e});o.$element.trigger(n)}),t(n).on("click",function(){o.destroy()})},destroy:function(){this.$element.removeData("WEB.contextMenu"),t("#WEB_contextMenu").remove()}};var c=t.fn.WEB_contextMenu;t.isBrowerSupportWebPlugin()&&(t.fn.WEB_contextMenu=r,t.fn.WEB_contextMenu.Constructor=i,t.fn.WEB_contextMenu.noConflict=function(){return t.fn.WEB_contextMenu=c,this})}(jQuery,window,document);