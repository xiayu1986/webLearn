!function(t,e,r,s){function a(e,r){var s=arguments.length,a=arguments[1];return 1===s&&(a="object"===t.type(arguments[0])?arguments[0]:{}),this.each(function(){var r=t(this),s=r.data("WEB.dataTable"),n=t.extend({},o.DEFAULTS,r.data(),a);s||r.data("WEB.dataTable",s=new o(this,n)),"string"===t.type(e)?s[e]?s[e](n):t.error("不支持的方法！"):s.init(n)})}t.extend({isBrowerSupportWebPlugin:function(){var e=!1,r="Microsoft Internet Explorer"==navigator.appName&&navigator.appVersion.split(";")[1].replace(/[ ]/g,""),s=["MSIE8.0","MSIE7.0","MSIE6.0","MSIE5.0"];return t.each(s,function(t,s){return r==s?(alert("您的浏览器版本过低，本插件无法提供支持，请升级！"),e=!1,!1):void(e=!0)}),e}});var o=function(e,r){this.$element=t(e),this.options=r};o.VERSION="1.0.0",o.DEFAULTS={sortColumns:[]},o.prototype={init:function(t){this.create(t)},destroy:function(){this.$element.find("thead:first >tr > th").removeClass("WEB_sortByDesc WEB_sortByAsc WEB_activeSort WEB_sort"),this.$element.find(".WEB_sortColumn").remove(),this.$element.removeData("WEB.dataTable")},create:function(e){var r=this.$element.find("thead:first >tr > th"),s=this;r.length>0&&r.each(function(r,a){var o=e.sortColumns[r];if(o){var n=o.sort,i=o.isPrimaryKey;if(n&&t(this).addClass("WEB_sort").find(".WEB_sortColumn").remove().end().append(t('<div class="WEB_sortColumn"><span class="WEB_sortIcon WEB_sortAsc"></span><span class="WEB_sortIcon WEB_sortDesc"></span></div>')),i){s.clear(),t(this).addClass("WEB_sortBy"+o.type).addClass("WEB_activeSort");var c=t(this).hasClass("WEB_sortByDesc");s.sort(e,c)}}}),this.event(e)},event:function(e){var r=this;this.$element.off("click").on("click",".WEB_sort",function(){e.beforeSort.call(r,{relatedTarget:e}),r.switch(t(this),e)})},clear:function(){t(".WEB_sort").removeClass("WEB_sortByDesc WEB_sortByAsc WEB_activeSort")},sort:function(e,r){var s=t(".WEB_activeSort").index()||0,a=this,o=e.sortColumns[s],n=e.data;if(o){var i=o.key,c=n.sort(function(e,s){var a,o,n;if("object"===t.type(i)?"array"===i.type&&(a=e[i.objKey][i.index][i.orderKey],o=s[i.objKey][i.index][i.orderKey]):(a=e[i],o=s[i]),a=t.trim(a),o=t.trim(o),n=t.type(a),!t.isNumeric(a)&&"string"===n){var c=/\d{4}([-\/])\d{1,2}([-\/])\d{1,2}(\s{1}\d{1,2}:\d{1,2}(:\d{1,2})?)?/g;if(!c.test(a))return r?o.localeCompare(a):a.localeCompare(o);a=Date.parse(a.replace(/-/g,"/")),o=Date.parse(o.replace(/-/g,"/"))}return r?o-a:a-o});e.afterSort.call(a,{relatedTarget:e,sortedData:c})}},switch:function(t,e){var r=t.hasClass("WEB_sortByDesc");this.clear(),t.addClass("WEB_activeSort"),r?t.removeClass("WEB_sortByDesc").addClass("WEB_sortByAsc"):t.removeClass("WEB_sortByAsc").addClass("WEB_sortByDesc"),r=!r,this.sort(e,r)}};var n=t.fn.WEB_dataTable;t.isBrowerSupportWebPlugin()&&(t.fn.WEB_dataTable=a,t.fn.WEB_dataTable.Constructor=o,t.fn.WEB_dataTable.noConflict=function(){return t.fn.WEB_dataTable=n,this})}(jQuery,window,document);