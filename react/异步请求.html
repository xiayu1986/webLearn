<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<title>模板</title>
</head>

<body>
	<div class="container">
		<div id="container">
			
		</div>
	</div>
	<script src="script/react.js"></script>
	<script src="script/react-dom.js"></script>
	<script src="script/browser.min.js"></script>
	<script src="script/jquery.min.js"></script>
	<script type="text/babel">
		var SyncData=React.createClass({
			getInitialState:function(){
				return {"remoteData":[]}
			},
			componentDidMount:function(){
				$.get(this.props.source,function(res){
					if(this.isMounted){
						this.setState({
							"remoteData":res
						})
					}
				}.bind(this))
			},
			render:function(){
				return ( 
					<div>
						<table className="table table-bordered table-striped">
						<thead>
							<tr>
								<td>用户ID</td>
								<td>登录名</td>
								<td>帖子ID</td>
								<td>创建日期</td>
								<td>更新日期</td>
								<td>描述</td>
								<td>评论数</td>
							</tr>
						</thead>
						<tbody>
							{
								this.state.remoteData.map(function(item,i){
									return (<tr key={i}>
												<td>{item.owner.login}</td>
												<td>{item.owner.id}</td>
												<td>{item.id}</td>
												<td>{item.created_at}</td>
												<td>{item.updated_at}</td>
												<td>{item.description}</td>
												<td>{item.comments}</td>
											</tr>)
								})
							}
							</tbody>
						</table>
					</div>
				)
			}
		});
		ReactDOM.render(<SyncData source="https://api.github.com/users/octocat/gists" />,document.querySelector("#container"))
	</script>
</body>
</html>