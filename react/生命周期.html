<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<title>生命周期</title>
</head>

<body>
	<div class="container">
	
	</div>
	<script src="script/react.js"></script>
	<script src="script/react-dom.js"></script>
	<script src="script/browser.min.js"></script>
	<script type="text/babel">
		var Button=React.createClass({
			getInitialState:function(){
				return {data:0}
			},
			increaseHandle:function(){
				this.setState(function(state){
					return {data:state.data+1}
				})
			},
			render:function(){
				return (
					<div>
						<button onClick={this.increaseHandle} className="btn btn-primary">增加</button>
						<Content number={this.state.data} />
					</div>
				)
			}
		}),
		Content=React.createClass({
			componentWillMount:function(){
				console.log("渲染前")
			},
			componentDidMount:function(){
				console.log("第一次渲染")
			},
			componentWillReceiveProps:function(){
				console.log("接收到新的属性")
			},
			shouldComponentUpdate:function(){
				console.log("状态或属性有更新")
				return true;
			},
			componentWillUpdate:function(){
				console.log("状态或属性有更新但还未渲染")
			},
			componentDidUpdate:function(){
				console.log("组件完成更新")
			},
			componentWillUnmount:function(){
				console.log("组件移除")
			},
			render:function(){
				return (
					<div>
						{this.props.number}
					</div>
				)
			}
		});
		ReactDOM.render(<Button />,document.querySelector(".container"));
	</script>
</body>
</html>